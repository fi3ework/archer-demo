!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={backTop:function(t){t.preventDefault();var e=setInterval(function(){var t=$(document).scrollTop();window.scrollTo(0,Math.max(Math.floor(.8*t))),0===t&&clearInterval(e)},20)},getAbsPosition:function(t){for(var e=t.offsetLeft,n=t.offsetTop;t=t.offsetParent;)e+=t.offsetLeft,n+=t.offsetTop;return{x:e,y:n}},dateFormater:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var i in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,String(t.getFullYear()).substr(4-RegExp.$1.length))),n)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?n[i]:("00"+n[i]).substr(String(n[i]).length)));return e},rafTick:function(t,e){t||requestAnimationFrame(e),t=!0}};e.default=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,r=(i=n(7))&&i.__esModule?i:{default:i};function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function s(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=o({},t.defaultOptions,e),this.activeIndex=this.options.activeIndex,this._initElements(),this._initTabs(),this._bindTabsClick(),this._bindButtonClick(),this._bindWrapperClick(),this._bindWrapperTransitionEnd(),this.perfectScrollbar()}var e,n,i;return e=t,(n=[{key:"_initElements",value:function(){this.$sidebar=$(this.options.sidebar),this.$tabs=$(this.options.tabs),this.$panels=$(this.options.panels),this.$menuButton=$(this.options.menuButton),this.$nav=$(this.options.nav),this.$content=$(this.options.content)}},{key:"_initTabs",value:function(){this.$tabs.each(function(t,e){$(e).data("tabIndex",t)})}},{key:"activateSidebar",value:function(){$(".wrapper").addClass("wrapper-sidebar-active"),$(".header").addClass("header-sidebar-active"),$(".toc-wrapper").addClass("toc-slide"),this.$sidebar.removeClass("sidebar-hide"),this.$sidebar.addClass("sidebar-active")}},{key:"_inactivateSidebar",value:function(){$(".wrapper").removeClass("wrapper-sidebar-active"),$(".header").removeClass("header-sidebar-active"),$(".toc-wrapper").removeClass("toc-slide"),this.$sidebar.removeClass("sidebar-active")}},{key:"switchTo",value:function(t){this._switchTo(t)}},{key:"_switchTab",value:function(t){for(var e=0;e<3;e++)e!==t?this.$nav.removeClass("sidebar-tabs-active-".concat(e)):this.$nav.addClass("sidebar-tabs-active-".concat(e))}},{key:"_bindWrapperTransitionEnd",value:function(){var t=this;$(".wrapper").on("transitionend",function(e){t.$sidebar.hasClass("sidebar-active")||t.$sidebar.addClass("sidebar-hide")})}},{key:"_switchPanel",value:function(t){for(var e=0;e<3;e++)e!==t?this.$content.removeClass("sidebar-content-active-".concat(e)):this.$content.addClass("sidebar-content-active-".concat(e))}},{key:"_switchTo",value:function(t){this._switchTab(t),this._switchPanel(t)}},{key:"_bindTabsClick",value:function(){var t=this;this.$tabs.click(function(e){var n=$(e.target);t.switchTo(n.data("tabIndex"))})}},{key:"_bindButtonClick",value:function(){var t=this;this.$menuButton.click(function(e){t.activateSidebar()})}},{key:"_bindWrapperClick",value:function(){var t=this;$(".wrapper").click(function(e){t._inactivateSidebar()})}},{key:"perfectScrollbar",value:function(){new r.default(".sidebar",{suppressScrollX:!1})}}])&&s(e.prototype,n),i&&s(e,i),t}();Object.defineProperty(a,"defaultOptions",{configurable:!0,enumerable:!0,writable:!0,value:{activeIndex:0}});var l=new a({sidebar:".sidebar",nav:".sidebar-tabs",tabs:".sidebar-tabs li",content:".sidebar-content",panels:".sideabar-contents > div",menuButton:".header-sidebar-menu"});e.default=l},function(t,e,n){"use strict";var i=n(3),r=n(5),o=n(6),s=(a(n(1)),a(n(8)));function a(t){return t&&t.__esModule?t:{default:t}}console.info("hexo-theme-archer: v20180109"),(0,i.init)(),(0,r.scroll)();new s.default("tags",".sidebar-tags-list",".sidebar-tags-name"),new s.default("categories",".sidebar-categories-list",".sidebar-categories-name");(0,o.initMobile)()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.init=void 0;var i,r=(i=n(4))&&i.__esModule?i:{default:i};e.init=function(){var t=$(".site-intro-img:first"),e=$(".site-intro-placeholder:first"),n=t.css("background-image").match(/url\("*([^"]*)"*\)/);if(n.length<2)console.log(n);else{var i=n[1],o=new Image;o.onload=function(){e.remove(),console.info("PLACEHOLDER REMOVED")},o.src=i,document.addEventListener("DOMContentLoaded",function(){$(".container").removeClass("container-unloaded"),$(".footer").removeClass("footer-unloaded"),$(".loading").remove()},!1);var s=new r.default;s.options={visible:"always",placement:"left",icon:"¶",class:"anchorjs-archer"},s.add().remove(".site-intro-meta h1").remove("h5")}}},function(t,e,n){var i,r,o;!function(n,s){"use strict";r=[],void 0===(o="function"==typeof(i=s)?i.apply(e,r):i)||(t.exports=o)}(0,function(){"use strict";return function(t){function e(t){t.icon=t.hasOwnProperty("icon")?t.icon:"",t.visible=t.hasOwnProperty("visible")?t.visible:"hover",t.placement=t.hasOwnProperty("placement")?t.placement:"right",t.ariaLabel=t.hasOwnProperty("ariaLabel")?t.ariaLabel:"Anchor",t.class=t.hasOwnProperty("class")?t.class:"",t.truncate=t.hasOwnProperty("truncate")?Math.floor(t.truncate):64}function n(t){var e;if("string"==typeof t||t instanceof String)e=[].slice.call(document.querySelectorAll(t));else{if(!(Array.isArray(t)||t instanceof NodeList))throw new Error("The selector provided to AnchorJS was invalid.");e=[].slice.call(t)}return e}this.options=t||{},this.elements=[],e(this.options),this.isTouchDevice=function(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},this.add=function(t){var i,r,o,s,a,l,c,h,u,A,d,f=[];if(e(this.options),"touch"===(d=this.options.visible)&&(d=this.isTouchDevice()?"always":"hover"),t||(t="h2, h3, h4, h5, h6"),0===(i=n(t)).length)return this;for(function(){if(null===document.head.querySelector("style.anchorjs")){var t,e=document.createElement("style");e.className="anchorjs",e.appendChild(document.createTextNode("")),void 0===(t=document.head.querySelector('[rel="stylesheet"], style'))?document.head.appendChild(e):document.head.insertBefore(e,t),e.sheet.insertRule(" .anchorjs-link {   opacity: 0;   text-decoration: none;   -webkit-font-smoothing: antialiased;   -moz-osx-font-smoothing: grayscale; }",e.sheet.cssRules.length),e.sheet.insertRule(" *:hover > .anchorjs-link, .anchorjs-link:focus  {   opacity: 1; }",e.sheet.cssRules.length),e.sheet.insertRule(" [data-anchorjs-icon]::after {   content: attr(data-anchorjs-icon); }",e.sheet.cssRules.length),e.sheet.insertRule(' @font-face {   font-family: "anchorjs-icons";   src: url(data:n/a;base64,AAEAAAALAIAAAwAwT1MvMg8yG2cAAAE4AAAAYGNtYXDp3gC3AAABpAAAAExnYXNwAAAAEAAAA9wAAAAIZ2x5ZlQCcfwAAAH4AAABCGhlYWQHFvHyAAAAvAAAADZoaGVhBnACFwAAAPQAAAAkaG10eASAADEAAAGYAAAADGxvY2EACACEAAAB8AAAAAhtYXhwAAYAVwAAARgAAAAgbmFtZQGOH9cAAAMAAAAAunBvc3QAAwAAAAADvAAAACAAAQAAAAEAAHzE2p9fDzz1AAkEAAAAAADRecUWAAAAANQA6R8AAAAAAoACwAAAAAgAAgAAAAAAAAABAAADwP/AAAACgAAA/9MCrQABAAAAAAAAAAAAAAAAAAAAAwABAAAAAwBVAAIAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAMCQAGQAAUAAAKZAswAAACPApkCzAAAAesAMwEJAAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAQAAg//0DwP/AAEADwABAAAAAAQAAAAAAAAAAAAAAIAAAAAAAAAIAAAACgAAxAAAAAwAAAAMAAAAcAAEAAwAAABwAAwABAAAAHAAEADAAAAAIAAgAAgAAACDpy//9//8AAAAg6cv//f///+EWNwADAAEAAAAAAAAAAAAAAAAACACEAAEAAAAAAAAAAAAAAAAxAAACAAQARAKAAsAAKwBUAAABIiYnJjQ3NzY2MzIWFxYUBwcGIicmNDc3NjQnJiYjIgYHBwYUFxYUBwYGIwciJicmNDc3NjIXFhQHBwYUFxYWMzI2Nzc2NCcmNDc2MhcWFAcHBgYjARQGDAUtLXoWOR8fORYtLTgKGwoKCjgaGg0gEhIgDXoaGgkJBQwHdR85Fi0tOAobCgoKOBoaDSASEiANehoaCQkKGwotLXoWOR8BMwUFLYEuehYXFxYugC44CQkKGwo4GkoaDQ0NDXoaShoKGwoFBe8XFi6ALjgJCQobCjgaShoNDQ0NehpKGgobCgoKLYEuehYXAAAADACWAAEAAAAAAAEACAAAAAEAAAAAAAIAAwAIAAEAAAAAAAMACAAAAAEAAAAAAAQACAAAAAEAAAAAAAUAAQALAAEAAAAAAAYACAAAAAMAAQQJAAEAEAAMAAMAAQQJAAIABgAcAAMAAQQJAAMAEAAMAAMAAQQJAAQAEAAMAAMAAQQJAAUAAgAiAAMAAQQJAAYAEAAMYW5jaG9yanM0MDBAAGEAbgBjAGgAbwByAGoAcwA0ADAAMABAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAH//wAP) format("truetype"); }',e.sheet.cssRules.length)}}(),r=document.querySelectorAll("[id]"),o=[].map.call(r,function(t){return t.id}),a=0;a<i.length;a++)if(this.hasAnchorJSLink(i[a]))f.push(a);else{if(i[a].hasAttribute("id"))s=i[a].getAttribute("id");else if(i[a].hasAttribute("data-anchor-id"))s=i[a].getAttribute("data-anchor-id");else{u=h=this.urlify(i[a].textContent),c=0;do{void 0!==l&&(u=h+"-"+c),l=o.indexOf(u),c+=1}while(-1!==l);l=void 0,o.push(u),i[a].setAttribute("id",u),s=u}s.replace(/-/g," "),(A=document.createElement("a")).className="anchorjs-link "+this.options.class,A.href="#"+s,A.setAttribute("aria-label",this.options.ariaLabel),A.setAttribute("data-anchorjs-icon",this.options.icon),"always"===d&&(A.style.opacity="1"),""===this.options.icon&&(A.style.font="1em/1 anchorjs-icons","left"===this.options.placement&&(A.style.lineHeight="inherit")),"left"===this.options.placement?(A.style.position="absolute",A.style.marginLeft="-1em",A.style.paddingRight="0.5em",i[a].insertBefore(A,i[a].firstChild)):(A.style.paddingLeft="0.375em",i[a].appendChild(A))}for(a=0;a<f.length;a++)i.splice(f[a]-a,1);return this.elements=this.elements.concat(i),this},this.remove=function(t){for(var e,i,r=n(t),o=0;o<r.length;o++)(i=r[o].querySelector(".anchorjs-link"))&&(-1!==(e=this.elements.indexOf(r[o]))&&this.elements.splice(e,1),r[o].removeChild(i));return this},this.removeAll=function(){this.remove(this.elements)},this.urlify=function(t){return this.options.truncate||e(this.options),t.trim().replace(/\'/gi,"").replace(/[& +$,:;=?@"#{}|^~[`%!'<>\]\.\/\(\)\*\\]/g,"-").replace(/-{2,}/g,"-").substring(0,this.options.truncate).replace(/^-+|-+$/gm,"").toLowerCase()},this.hasAnchorJSLink=function(t){var e=t.firstChild&&(" "+t.firstChild.className+" ").indexOf(" anchorjs-link ")>-1,n=t.lastChild&&(" "+t.lastChild.className+" ").indexOf(" anchorjs-link ")>-1;return e||n||!1}}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scroll=void 0;var i,r=(i=n(0))&&i.__esModule?i:{default:i};e.scroll=function(){var t=$(".banner:first"),e=t.find(".post-title a"),n=$(".site-intro:first"),i=$(".home-link:first"),o=$(".back-top:first"),s=$(".header-sidebar-menu:first"),a=n.offset().top+n.outerHeight(),l=$(".toc-wrapper:first"),c=l.find(".toc-catalog"),h=$(".read-progress");c.on("click",function(){l.toggleClass("toc-hide-children")});var u=0,A=0;var d=-1,f=!0;var p,v,b=!1;$(".post-body").length&&(b=!0,v=a,p=$(".article-entry").outerHeight(),p=$(".container")[0].addEventListener("transitionend",function(){p=$(".article-entry").outerHeight()}));var g=!1;function m(e){var n,r,c,m,w,y,Y=function(t){if(t>a){if(1!==d)return d=1,f=!1,1}else if(-1!==d)return d=-1,f=!0,-1;return 0}(e);if(1===Y?(l.addClass("toc-fixed"),i.addClass("home-link-hide"),o.addClass("back-top-show"),s.addClass("header-sidebar-menu-black")):-1===Y&&(l.removeClass("toc-fixed"),i.removeClass("home-link-hide"),t.removeClass("banner-show"),o.removeClass("back-top-show"),s.removeClass("header-sidebar-menu-black")),b){var L=(A+=e-u)>30?(A=0,1):A<-800?(A=0,-1):0;1===L?t.removeClass("banner-show"):-1!==L||f||t.addClass("banner-show"),n=e,r=v,c=p,w=$(window).height(),y=(m=(m=n<a?0:(n-r)/(c-w)*100)>=0?m:100)-100<=0?m-100:0,h[0].style.transform="translate3d(".concat(y,"%, 0, 0)")}u=e,g=!1}$(document).on("scroll",function(){var t=$(document).scrollTop(),e=m.bind(null,t);r.default.rafTick(g,e)}),[e,o].forEach(function(t){t.on("click",r.default.backTop)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.initMobile=void 0;e.initMobile=function(){if(window.matchMedia){var t=window.matchMedia("(max-width: 980px)");t.addListener(e),e(t)}else window.addListener("resize",function(){e((window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>900?{matches:!1}:{matches:!0})},!1);function e(t){t.matches?console.log("mobile"):console.log("desktop")}}},function(t,e,n){"use strict";function i(t){return getComputedStyle(t)}function r(t,e){for(var n in e){var i=e[n];"number"==typeof i&&(i+="px"),t.style[n]=i}return t}function o(t){var e=document.createElement("div");return e.className=t,e}Object.defineProperty(e,"__esModule",{value:!0});var s="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector);function a(t,e){if(!s)throw new Error("No element matching method supported");return s.call(t,e)}function l(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function c(t,e){return Array.prototype.filter.call(t.children,function(t){return a(t,e)})}var h={main:"ps",element:{thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},state:{focus:"ps--focus",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}}},u={x:null,y:null};function A(t,e){var n=t.element.classList,i=h.state.scrolling(e);n.contains(i)?clearTimeout(u[e]):n.add(i)}function d(t,e){u[e]=setTimeout(function(){return t.isAlive&&t.element.classList.remove(h.state.scrolling(e))},t.settings.scrollingThreshold)}var f=function(t){this.element=t,this.handlers={}},p={isEmpty:{configurable:!0}};f.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},f.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter(function(i){return!(!e||i===e)||(n.element.removeEventListener(t,i,!1),!1)})},f.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},p.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every(function(e){return 0===t.handlers[e].length})},Object.defineProperties(f.prototype,p);var v=function(){this.eventElements=[]};function b(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}v.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return e||(e=new f(t),this.eventElements.push(e)),e},v.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},v.prototype.unbind=function(t,e,n){var i=this.eventElement(t);i.unbind(e,n),i.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(i),1)},v.prototype.unbindAll=function(){this.eventElements.forEach(function(t){return t.unbindAll()}),this.eventElements=[]},v.prototype.once=function(t,e,n){var i=this.eventElement(t),r=function(t){i.unbind(e,r),n(t)};i.bind(e,r)};var g=function(t,e,n,i,r){var o;if(void 0===i&&(i=!0),void 0===r&&(r=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,i,r){var o=n[0],s=n[1],a=n[2],l=n[3],c=n[4],h=n[5];void 0===i&&(i=!0);void 0===r&&(r=!1);var u=t.element;t.reach[l]=null,u[a]<1&&(t.reach[l]="start");u[a]>t[o]-t[s]-1&&(t.reach[l]="end");e&&(u.dispatchEvent(b("ps-scroll-"+l)),e<0?u.dispatchEvent(b("ps-scroll-"+c)):e>0&&u.dispatchEvent(b("ps-scroll-"+h)),i&&(A(f=t,p=l),d(f,p)));var f,p;t.reach[l]&&(e||r)&&u.dispatchEvent(b("ps-"+l+"-reach-"+t.reach[l]))}(t,n,o,i,r)};function m(t){return parseInt(t,10)||0}var w={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)},y=function(t){var e=t.element;t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(c(e,h.element.rail("x")).forEach(function(t){return l(t)}),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(c(e,h.element.rail("y")).forEach(function(t){return l(t)}),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=Y(t,m(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=m((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=Y(t,m(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=m(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop;r(e.scrollbarXRail,n);var i={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;r(e.scrollbarYRail,i),r(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),r(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(h.state.active("x")):(e.classList.remove(h.state.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=0),t.scrollbarYActive?e.classList.add(h.state.active("y")):(e.classList.remove(h.state.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)};function Y(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function L(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],l=e[6],c=e[7],h=t.element,u=null,f=null,p=null;function v(e){h[l]=u+p*(e[r]-f),A(t,c),y(t),e.stopPropagation(),e.preventDefault()}function b(){d(t,c),t.event.unbind(t.ownerDocument,"mousemove",v)}t.event.bind(t[s],"mousedown",function(e){u=h[l],f=e[r],p=(t[i]-t[n])/(t[o]-t[a]),t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",b),e.stopPropagation(),e.preventDefault()})}var C={"click-rail":function(t){t.event.bind(t.scrollbarY,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarYRail,"mousedown",function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,y(t),e.stopPropagation()}),t.event.bind(t.scrollbarX,"mousedown",function(t){return t.stopPropagation()}),t.event.bind(t.scrollbarXRail,"mousedown",function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,y(t),e.stopPropagation()})},"drag-thumb":function(t){L(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x"]),L(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(a(e,":hover")||a(t.scrollbarX,":focus")||a(t.scrollbarY,":focus"))){var i,r=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(r){if("IFRAME"===r.tagName)r=r.contentDocument.activeElement;else for(;r.shadowRoot;)r=r.shadowRoot.activeElement;if(a(i=r,"input,[contenteditable]")||a(i,"select,[contenteditable]")||a(i,"textarea,[contenteditable]")||a(i,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,y(t),function(n,i){var r=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===r&&i>0||r>=t.contentHeight-t.containerHeight&&i<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===i){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}})},wheel:function(t){var e=t.element;function n(n){var r,o,s,a=(o=(r=n).deltaX,s=-1*r.deltaY,void 0!==o&&void 0!==s||(o=-1*r.wheelDeltaX/6,s=r.wheelDeltaY/6),r.deltaMode&&1===r.deltaMode&&(o*=10,s*=10),o!=o&&s!=s&&(o=0,s=r.wheelDelta),r.shiftKey?[-s,-o]:[o,s]),l=a[0],c=a[1];if(!function(t,n,r){if(!w.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(h.element.consuming))return!0;var s=i(o);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&!(0===o.scrollTop&&r>0||o.scrollTop===a&&r<0))return!0;var l=o.scrollLeft-o.clientWidth;if(l>0&&!(0===o.scrollLeft&&n<0||o.scrollLeft===l&&n>0))return!0}o=o.parentNode}return!1}(n.target,l,c)){var u,A,d,f,p,v,b=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(c?e.scrollTop-=c*t.settings.wheelSpeed:e.scrollTop+=l*t.settings.wheelSpeed,b=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(l?e.scrollLeft+=l*t.settings.wheelSpeed:e.scrollLeft-=c*t.settings.wheelSpeed,b=!0):(e.scrollTop-=c*t.settings.wheelSpeed,e.scrollLeft+=l*t.settings.wheelSpeed),y(t),(b=b||(u=l,A=c,d=0===e.scrollTop,f=e.scrollTop+e.offsetHeight===e.scrollHeight,p=0===e.scrollLeft,v=e.scrollLeft+e.offsetWidth===e.offsetWidth,!(Math.abs(A)>Math.abs(u)?d||f:p||v)||!t.settings.wheelPropagation))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(w.supportsTouch||w.supportsIePointer){var e=t.element,n={},r=0,o={},s=null;w.supportsTouch?(t.event.bind(e,"touchstart",u),t.event.bind(e,"touchmove",A),t.event.bind(e,"touchend",d)):w.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",u),t.event.bind(e,"pointermove",A),t.event.bind(e,"pointerup",d)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",u),t.event.bind(e,"MSPointerMove",A),t.event.bind(e,"MSPointerUp",d)))}function a(n,i){e.scrollTop-=i,e.scrollLeft-=n,y(t)}function l(t){return t.targetTouches?t.targetTouches[0]:t}function c(t){return!(t.pointerType&&"pen"===t.pointerType&&0===t.buttons||(!t.targetTouches||1!==t.targetTouches.length)&&(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function u(t){if(c(t)){var e=l(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==s&&clearInterval(s)}}function A(s){if(c(s)){var u=l(s),A={pageX:u.pageX,pageY:u.pageY},d=A.pageX-n.pageX,f=A.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var o=t;o&&o!==e;){if(o.classList.contains(h.element.consuming))return!0;var s=i(o);if([s.overflow,s.overflowX,s.overflowY].join("").match(/(scroll|auto)/)){var a=o.scrollHeight-o.clientHeight;if(a>0&&!(0===o.scrollTop&&r>0||o.scrollTop===a&&r<0))return!0;var l=o.scrollLeft-o.clientWidth;if(l>0&&!(0===o.scrollLeft&&n<0||o.scrollLeft===l&&n>0))return!0}o=o.parentNode}return!1}(s.target,d,f))return;a(d,f),n=A;var p=(new Date).getTime(),v=p-r;v>0&&(o.x=d/v,o.y=f/v,r=p),function(n,i){var r=e.scrollTop,o=e.scrollLeft,s=Math.abs(n),a=Math.abs(i);if(a>s){if(i<0&&r===t.contentHeight-t.containerHeight||i>0&&0===r)return 0===window.scrollY&&i>0&&w.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(d,f)&&s.preventDefault()}}function d(){t.settings.swipeEasing&&(clearInterval(s),s=setInterval(function(){t.isInitialized?clearInterval(s):o.x||o.y?Math.abs(o.x)<.01&&Math.abs(o.y)<.01?clearInterval(s):(a(30*o.x,30*o.y),o.x*=.8,o.y*=.8):clearInterval(s)},10))}}},E=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var s in this.element=t,t.classList.add(h.main),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1},e)n.settings[s]=e[s];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var a,l,c=function(){return t.classList.add(h.state.focus)},u=function(){return t.classList.remove(h.state.focus)};this.isRtl="rtl"===i(t).direction,this.isNegativeScroll=(l=t.scrollLeft,t.scrollLeft=-1,a=t.scrollLeft<0,t.scrollLeft=l,a),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new v,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=o(h.element.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=o(h.element.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",c),this.event.bind(this.scrollbarX,"blur",u),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var A=i(this.scrollbarXRail);this.scrollbarXBottom=parseInt(A.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=m(A.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=m(A.borderLeftWidth)+m(A.borderRightWidth),r(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=m(A.marginLeft)+m(A.marginRight),r(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=o(h.element.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=o(h.element.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",c),this.event.bind(this.scrollbarY,"blur",u),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var d,f,p=i(this.scrollbarYRail);this.scrollbarYRight=parseInt(p.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=m(p.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?(d=this.scrollbarY,m((f=i(d)).width)+m(f.paddingLeft)+m(f.paddingRight)+m(f.borderLeftWidth)+m(f.borderRightWidth)):null,this.railBorderYWidth=m(p.borderTopWidth)+m(p.borderBottomWidth),r(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=m(p.marginTop)+m(p.marginBottom),r(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach(function(t){return C[t](n)}),this.lastScrollTop=t.scrollTop,this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",function(t){return n.onScroll(t)}),y(this)};E.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,r(this.scrollbarXRail,{display:"block"}),r(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=m(i(this.scrollbarXRail).marginLeft)+m(i(this.scrollbarXRail).marginRight),this.railYMarginHeight=m(i(this.scrollbarYRail).marginTop)+m(i(this.scrollbarYRail).marginBottom),r(this.scrollbarXRail,{display:"none"}),r(this.scrollbarYRail,{display:"none"}),y(this),g(this,"top",0,!1,!0),g(this,"left",0,!1,!0),r(this.scrollbarXRail,{display:""}),r(this.scrollbarYRail,{display:""}))},E.prototype.onScroll=function(t){this.isAlive&&(y(this),g(this,"top",this.element.scrollTop-this.lastScrollTop),g(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=this.element.scrollTop,this.lastScrollLeft=this.element.scrollLeft)},E.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),l(this.scrollbarX),l(this.scrollbarY),l(this.scrollbarXRail),l(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},E.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter(function(t){return!t.match(/^ps([-_].+|)$/)}).join(" ")},e.default=E},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=s(n(0)),r=s(n(1)),o=s(n(9));function s(t){return t&&t.__esModule?t:{default:t}}function a(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._initIndexMap=this._initIndexMap.bind(this),this.metaName=e,this.currentQuery="",this.indexMap=new Map,this.postList=document.querySelector(n),this.labelsContainer=document.querySelector(i),this.initInfo(),this.initIndexMap(),this.bindLabelClick(),this.bindOtherClick()}var e,n,o;return e=t,(n=[{key:"initInfo",value:function(){var e=jsInfo.root+"content.json?t="+Number(new Date),n=new XMLHttpRequest;n.responseType="",n.open("get",e,!0);var i=$(".tag-load-fail");n.onload=function(){var e;200===this.status||304===this.status?(i.remove(),e&&e.length&&(t.postArr=JSON.parse(this.responseText),t.emitter.emit("json ininted"))):this.postList.remove()},n.send(),Object.getPrototypeOf(this).initInfo=function(){return console.log("initInfo function is lazyed")}}},{key:"initIndexMap",value:function(){t.emitter.on("json ininted",this._initIndexMap)}},{key:"updateList",value:function(t){var e=this,n=document.createDocumentFragment();this.postList.innerHTML="",t.forEach(function(t){n.appendChild(e._createPostDom(t)[0])}),this.postList.appendChild(n)}},{key:"bindLabelClick",value:function(){var t=this;this.labelsContainer.addEventListener("click",function(e){var n=e.target.getAttribute("data-".concat(t.metaName));"string"==typeof n&&(t.currLabelName=n,t.switchLabel(t.currLabelName))})}},{key:"bindOtherClick",value:function(){var t=this;document.body.addEventListener("click",function(e){if("post-tag"===e.target.className){e.stopPropagation(),r.default.activateSidebar(),r.default.switchTo(1);var n=e.target.getAttribute("data-tags");t.currLabelName=n,t.switchLabel(t.currLabelName)}}),Object.getPrototypeOf(this).bindOtherClick=function(){return console.log("bindOtherClick function is lazyed")}}},{key:"_switchFocus",value:function(t){var e=this;a(this.labelsContainer.getElementsByClassName("sidebar-label-focus")).forEach(function(t){return t.classList.remove("sidebar-label-focus")}),a(this.labelsContainer.children).forEach(function(n){n.getAttribute("data-".concat(e.metaName))===t&&n.classList.add("sidebar-label-focus")})}},{key:"switchLabel",value:function(e){this._switchFocus(e);var n=this.indexMap.get(e).map(function(e){return t.postArr[e]});this.updateList(n)}},{key:"_createPostDom",value:function(t){var e=$('<li class="meta-post-item"><span class="meta-post-date">'+i.default.dateFormater(new Date(Date.parse(t.date)),"yyyy/MM/dd")+"</span></li>"),n=$('<a class="meta-post-title" href="'+jsInfo.root+t.path+'">'+t.title+"</a>");return e.append(n),e}},{key:"_initIndexMap",value:function(){for(var e=this,n=t.postArr,i=function(t){var i=n[t][e.metaName];i.length&&i.forEach(function(n){e.indexMap.has(n.slug)?e.indexMap.get(n.slug).push(t):e.indexMap.set(n.slug,[t])})},r=0;r<n.length;r++)i(r);this.indexMap.size||document.getElementsByClassName("sidebar-".concat(this.metaName,"-empty"))[0].classList.add("sidebar-".concat(this.metaName,"-empty-active"))}}])&&l(e.prototype,n),o&&l(e,o),t}();Object.defineProperty(c,"postArr",{configurable:!0,enumerable:!0,writable:!0,value:void 0}),Object.defineProperty(c,"emitter",{configurable:!0,enumerable:!0,writable:!0,value:new o.default});var h=c;e.default=h},function(t,e,n){"use strict";var i=Object.prototype.hasOwnProperty,r="~";function o(){}function s(t,e,n,i,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new function(t,e,n){this.fn=t,this.context=e,this.once=n||!1}(n,i||t,o),a=r?r+e:e;return t._events[a]?t._events[a].fn?t._events[a]=[t._events[a],s]:t._events[a].push(s):(t._events[a]=s,t._eventsCount++),t}function a(t,e){0==--t._eventsCount?t._events=new o:delete t._events[e]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(r=!1)),l.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)i.call(t,e)&&n.push(r?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},l.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},l.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},l.prototype.emit=function(t,e,n,i,o,s){var a=r?r+t:t;if(!this._events[a])return!1;var l,c,h=this._events[a],u=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),u){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,i),!0;case 5:return h.fn.call(h.context,e,n,i,o),!0;case 6:return h.fn.call(h.context,e,n,i,o,s),!0}for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];h.fn.apply(h.context,l)}else{var A,d=h.length;for(c=0;c<d;c++)switch(h[c].once&&this.removeListener(t,h[c].fn,void 0,!0),u){case 1:h[c].fn.call(h[c].context);break;case 2:h[c].fn.call(h[c].context,e);break;case 3:h[c].fn.call(h[c].context,e,n);break;case 4:h[c].fn.call(h[c].context,e,n,i);break;default:if(!l)for(A=1,l=new Array(u-1);A<u;A++)l[A-1]=arguments[A];h[c].fn.apply(h[c].context,l)}}return!0},l.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},l.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},l.prototype.removeListener=function(t,e,n,i){var o=r?r+t:t;if(!this._events[o])return this;if(!e)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==e||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,c=[],h=s.length;l<h;l++)(s[l].fn!==e||i&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},l.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&a(this,e)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}]);